# åç«¯æ¥å£

## 1. ç”¨æˆ·æ³¨å†Œ

### 1.1 å•ç‹¬æ³¨å†Œ

**URL**: `/api/register`
**æ–¹æ³•**: `POST`
**æƒé™**: éœ€è¦ç™»å½•ï¼ˆç®¡ç†å‘˜ / æ•™å¸ˆï¼‰
**è¯·æ±‚ä½“**ï¼ˆJSONï¼‰ï¼š

```json
{
  "uid": 242029634,
  "username": "star",
  "password": "123456",
  "usertype": 2,
  "school": "æ¸…åå¤§å­¦",
  "profession": "è®¡ç®—æœºç§‘å­¦"
}
```

* `usertype`:

  * 0 = ç®¡ç†å‘˜
  * 1 = æ•™å¸ˆ
  * 2 = å­¦ç”Ÿ
* é™åˆ¶ï¼š

  * ç®¡ç†å‘˜å¯ä»¥æ³¨å†Œä»»æ„ç”¨æˆ·
  * æ•™å¸ˆåªèƒ½æ³¨å†Œå­¦ç”Ÿ

**å“åº”**:

* æˆåŠŸ

```json
{ "success": "æ³¨å†ŒæˆåŠŸ" }
```

* å¤±è´¥

```json
{ "error": "ç”¨æˆ· ID å·²å­˜åœ¨" }
```

---

### 1.2 æ‰¹é‡æ³¨å†Œï¼ˆExcel å¾…å®ç°ï¼‰

**URL**: `/api/multi-register`
**æ–¹æ³•**: `POST`
**æƒé™**: æš‚æ— é™åˆ¶
**å“åº”**:

```json
{ "success": "æ•¬è¯·æœŸå¾…" }
```

---

## 2. ç™»å½•

**URL**: `/api/login`
**æ–¹æ³•**: `POST`
**è¯·æ±‚ä½“**ï¼ˆJSONï¼‰ï¼š

```json
{
  "uid": 242029634,
  "password": "123456",
  "login_type": 2
}
```

**å“åº”**:

* æˆåŠŸ

```json
{
  "access_token": "xxxxx",
  "refresh_token": "xxxxx"
}
```

* å¤±è´¥

```json
{ "error": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯" }
```

---

## 3. åˆ·æ–° Token

**URL**: `/api/refresh`
**æ–¹æ³•**: `POST`
**æƒé™**: éœ€è¦ `refresh_token`
**å“åº”**:

```json
{
  "access_token": "xxxxx"
}
```

---

## 4. ä¿®æ”¹ä¸ªäººä¿¡æ¯

**URL**: `/api/modify_info`
**æ–¹æ³•**: `POST`
**æƒé™**: ç™»å½•ç”¨æˆ·
**è¯·æ±‚ä½“**ï¼ˆJSONï¼‰ï¼š

```json
{
  "username": "newname",
  "password": "oldpassword",
  "new_password": "newpassword",
  "school": "åŒ—å¤§",
  "profession": "æ•°å­¦"
}
```

**è¯´æ˜**:

* éœ€è¦æä¾›æ—§å¯†ç æ ¡éªŒ
* å¦‚æœä¿®æ”¹äº†å¯†ç ï¼Œä¼šå¼ºåˆ¶è¦æ±‚é‡æ–°ç™»å½•ï¼ˆtoken å¤±æ•ˆï¼‰

**å“åº”**:

```json
{ "success": "ä¿®æ”¹æˆåŠŸ" }
```

---

## 5. æ³¨é”€ / é€€å‡ºç™»å½•

**URL**: `/api/logout`
**æ–¹æ³•**: `POST`
**æƒé™**: ç™»å½•ç”¨æˆ·
**å“åº”**:

```json
{ "success": "æ³¨é”€æˆåŠŸ" }
```

---

## ğŸ”‘ è¯·æ±‚å¤´ï¼ˆéœ€è¦ç™»å½•çš„æ¥å£ï¼‰

```http
Authorization: Bearer <access_token>
Content-Type: application/json
```
